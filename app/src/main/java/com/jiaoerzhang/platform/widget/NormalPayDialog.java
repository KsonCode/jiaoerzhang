package com.jiaoerzhang.platform.widget;import android.app.Dialog;import android.content.Context;import android.os.Bundle;import android.support.v4.content.ContextCompat;import android.view.View;import android.view.WindowManager;import android.widget.RelativeLayout;import android.widget.TextView;import com.blankj.utilcode.util.ScreenUtils;import com.jiaoerzhang.platform.R;public class NormalPayDialog extends Dialog implements View.OnClickListener {    public TextView balanceTv;    public TextView confirmTv;    public TextView cancelTv;    public int pos = 15;    private RelativeLayout day1Layout,day2Layout,day3Layout;    public TextView day1TXT,day2TXT,day3TXT,price1TXT,price2TXT,price3TXT;            public TextView notEnough;    private Context mContext;    private OnCloseListener listener;    public void setListener(OnCloseListener listener) {        this.listener = listener;    }    public NormalPayDialog(Context context) {        super(context);        this.mContext = context;    }    public NormalPayDialog(Context context, String content) {        super(context, R.style.dialog);        this.mContext = context;    }    public NormalPayDialog(Context context, int themeResId, String content) {        super(context, themeResId);        this.mContext = context;    }    public NormalPayDialog(Context context, int themeResId, String content, OnCloseListener listener) {        super(context, themeResId);        this.mContext = context;        this.listener = listener;    }    protected NormalPayDialog(Context context, boolean cancelable, OnCancelListener cancelListener) {        super(context, cancelable, cancelListener);        this.mContext = context;    }    public NormalPayDialog setTitle(String title){        return this;    }    public NormalPayDialog setPositiveButton(String name){        return this;    }    public NormalPayDialog setNegativeButton(String name){        return this;    }    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.dialog_nrmal_pay);        setCanceledOnTouchOutside(false);        initView();    }    private void initView(){        balanceTv = (TextView)findViewById(R.id.coin_balance);        price1TXT = (TextView)findViewById(R.id.price1_payment_count);        price2TXT = (TextView)findViewById(R.id.price2_payment_count);        price3TXT = (TextView)findViewById(R.id.price3_payment_count);        day1TXT = (TextView)findViewById(R.id.day1_txt);        day2TXT = (TextView)findViewById(R.id.day2_txt);        day3TXT = (TextView)findViewById(R.id.day3_txt);        cancelTv = (TextView)findViewById(R.id.cancel);        cancelTv.setOnClickListener(this);        confirmTv = (TextView)findViewById(R.id.confirm);        confirmTv.setOnClickListener(this);        day1Layout = findViewById(R.id.day1_layout);        day2Layout = findViewById(R.id.day2_layout);        day3Layout = findViewById(R.id.day3_layout);        notEnough = findViewById(R.id.not_enough);        notEnough.setVisibility(View.GONE);        day1Layout.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                pos = 15;                day1Layout.setBackgroundResource(R.drawable.pay_red_bg);                day1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                price1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                day2Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                day3Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));            }        });        day2Layout.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                pos = 14;                day2Layout.setBackgroundResource(R.drawable.pay_red_bg);                day2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                price2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                day1Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                day3Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));            }        });        day3Layout.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View v) {                pos = 13;                day3Layout.setBackgroundResource(R.drawable.pay_red_bg);                day3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                price3TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_red_txt_color));                day1Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price1TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                day2Layout.setBackgroundResource(R.drawable.pay_gray_bg);                day2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));                price2TXT.setTextColor(ContextCompat.getColor(mContext,R.color.common_hint_txt_color));            }        });        getWindow().setBackgroundDrawableResource(android.R.color.transparent);        WindowManager.LayoutParams p = getWindow().getAttributes();  //获取对话框当前的参数值//        p.height = (int) (ScreenUtils.getScreenHeight() * 0.3);   //高度设置为屏幕的0.3        p.width = (int) (ScreenUtils.getScreenWidth() * 0.8);    //宽度设置为屏幕的0.5        getWindow().setAttributes(p);     //设置生效    }    @Override    public void onClick(View v) {        switch (v.getId()){            case R.id.cancel:                if(listener != null){                    listener.onClick(this, false);                }                break;            case R.id.confirm:                if(listener != null){                    listener.onClick(this, true);                }                break;        }    }    public interface OnCloseListener{        void onClick(Dialog dialog, boolean confirm);    }}